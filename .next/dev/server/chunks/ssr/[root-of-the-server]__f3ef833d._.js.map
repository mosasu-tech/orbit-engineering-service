{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///E:/sujoy/oes/development/orbit-engineering-service-1/app/lib/fetchGoogleSheet.ts"],"sourcesContent":["// lib/fetchGoogleSheet.ts\r\n'use server';\r\nimport { google } from 'googleapis';\r\n\r\nexport async function getSheetData(sheetName: string) {\r\n  const apiKey = process.env.GOOGLE_API_KEY;\r\n  const spreadsheetId = process.env.GOOGLE_SHEET_ID;\r\n  if (!apiKey || !spreadsheetId) {\r\n    console.warn('Missing GOOGLE_API_KEY or GOOGLE_SHEET_ID');\r\n    return [];\r\n  }\r\n\r\n  const sheets = google.sheets({ version: 'v4', auth: apiKey });\r\n\r\n  const res = await sheets.spreadsheets.values.get({\r\n    spreadsheetId,\r\n    range: sheetName,\r\n  });\r\n\r\n  const rows = res.data.values;\r\n  if (!rows || rows.length === 0) return [];\r\n\r\n  const headers = rows[0];\r\n  return rows.slice(1).map((row) => {\r\n    const obj: Record<string, string> = {};\r\n    headers.forEach((h, i) => {\r\n      obj[h as string] = row[i] ?? '';\r\n    });\r\n    console.log(JSON.stringify(obj));\r\n    return obj;\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAIsB,eAAA,WAAA,GAAA,IAAA,uRAAA,EAAA,8CAAA,4QAAA,EAAA,KAAA,GAAA,kRAAA,EAAA","debugId":null}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///E:/sujoy/oes/development/orbit-engineering-service-1/app/components/StoreLocator.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport MapWithRouting from \"./MapWithRouting\";\r\nimport { getSheetData } from \"../lib/fetchGoogleSheet\";\r\n\r\nexport default function StoreLocator() {\r\n  const [locations, setLocations] = useState([]);\r\n  const [activeLocation, setActiveLocation] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function load() {\r\n      try {\r\n        const rows = await getSheetData(\"Locations\") ?? []; // prevent undefined\r\n        const formatted = rows.map((row: any) => ({\r\n          name: row.Name,\r\n          lat: Number(row.Lat),\r\n          lng: Number(row.Lng),\r\n          address: row.Address,\r\n        }));\r\n\r\n        setLocations(formatted);\r\n        setActiveLocation(formatted[0] || null);\r\n      } catch (e) {\r\n        console.error(\"Error loading sheet:\", e);\r\n      }\r\n    }\r\n    load();\r\n  }, []);\r\n\r\n  // ðŸ‘‰ FIX: Safely handle undefined/null\r\n  if (!locations || locations.length === 0) {\r\n    return <p className=\"text-center text-slate-500 py-10\">Loading locations...</p>;\r\n  }\r\n\r\n  return (\r\n    <section className=\"max-w-6xl mx-auto p-6\">\r\n      <h2 className=\"text-3xl font-bold mb-6 text-center\">Find Our Offices</h2>\r\n\r\n      {/* Pills */}\r\n      <div className=\"flex gap-4 overflow-x-auto pb-3 mb-4\">\r\n        {locations.map((loc, idx) => (\r\n          <button\r\n            key={idx}\r\n            onClick={() => setActiveLocation(loc)}\r\n            className={`px-5 py-2 rounded-full transition shrink-0 border\r\n              ${activeLocation?.name === loc.name \r\n              ? \"bg-slate-900 text-white\" \r\n              : \"bg-white text-slate-600 border-slate-300\"}`}\r\n          >\r\n            {loc.name}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Map */}\r\n      {activeLocation && <MapWithRouting location={activeLocation} />}\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;;;;;AAEA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yPAAQ,EAAC,EAAE;IAC7C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yPAAQ,EAAC;IAErD,IAAA,0PAAS,EAAC;QACR,eAAe;YACb,IAAI;gBACF,MAAM,OAAO,MAAM,IAAA,0MAAY,EAAC,gBAAgB,EAAE,EAAE,oBAAoB;gBACxE,MAAM,YAAY,KAAK,GAAG,CAAC,CAAC,MAAa,CAAC;wBACxC,MAAM,IAAI,IAAI;wBACd,KAAK,OAAO,IAAI,GAAG;wBACnB,KAAK,OAAO,IAAI,GAAG;wBACnB,SAAS,IAAI,OAAO;oBACtB,CAAC;gBAED,aAAa;gBACb,kBAAkB,SAAS,CAAC,EAAE,IAAI;YACpC,EAAE,OAAO,GAAG;gBACV,QAAQ,KAAK,CAAC,wBAAwB;YACxC;QACF;QACA;IACF,GAAG,EAAE;IAEL,uCAAuC;IACvC,IAAI,CAAC,aAAa,UAAU,MAAM,KAAK,GAAG;QACxC,qBAAO,sRAAC;YAAE,WAAU;sBAAmC;;;;;;IACzD;IAEA,qBACE,sRAAC;QAAQ,WAAU;;0BACjB,sRAAC;gBAAG,WAAU;0BAAsC;;;;;;0BAGpD,sRAAC;gBAAI,WAAU;0BACZ,UAAU,GAAG,CAAC,CAAC,KAAK,oBACnB,sRAAC;wBAEC,SAAS,IAAM,kBAAkB;wBACjC,WAAW,CAAC;cACV,EAAE,gBAAgB,SAAS,IAAI,IAAI,GACjC,4BACA,4CAA4C;kCAE/C,IAAI,IAAI;uBAPJ;;;;;;;;;;YAaV,gCAAkB,sRAAC;gBAAe,UAAU;;;;;;;;;;;;AAGnD","debugId":null}}]
}